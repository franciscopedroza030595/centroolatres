<div class="content" id="htmlData">

    <app-sidebar></app-sidebar>

    <div class="historia" *ngIf="!segui">
        <div class="container contact-form">
            <div class="contact-image">
                <img src="../../../../assets/images/LOGO.jpg" alt="centroolatres" />
            </div>


            <form [formGroup]="seguiForm" (ngSubmit)="seguimiento()">

                <h3>Seguimiento Del Caso</h3>
                <h4>Fecha: {{fecha}}</h4>

                <h5>Número De La Sesion: {{secccionN}}</h5>
                <h5 class="seccionesA" (click)="verSecciones()">Sesiones Anteriores: {{seccionesA}} </h5>
                <!-- paciente -->


                <table style="width: 100%;" *ngIf="!pareja">

                    <tr>

                        <th>Nombre y Apellido</th>
                        <th>Cedula</th>
                        <th>Edad</th>
                    </tr>



                    <tr>

                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.nombreyapellido}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.cedula}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.edad}}" /></td>
                    </tr>
                    <tr>

                        <th>Lugar De Nacimiento</th>
                        <th>Fecha De Nacimiento</th>
                        <th>Ocupación</th>
                    </tr>



                    <tr>

                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.lugarnacimiento}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{fechaN[0]}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.ocupacion}}" /></td>
                    </tr>
                    <tr>
                        <th>telefono</th>
                        <th>Escolaridad</th>
                        <th>EPS</th>

                    </tr>
                    <tr>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.telefono}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.escolaridad}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder=" {{infoPa.eps}}" /></td>
                    </tr>
                    <tr>
                        <th>Dirección</th>
                        <th>Estrato</th>
                        <th>Nombre Acudiente</th>


                    </tr>
                    <tr>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.direccion}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.estrato}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.nombreacudiente}}" /></td>


                    </tr>

                </table>




                <!--  -->


                <!-- parejas -->

                <table style="width: 100%;" *ngIf="pareja">

                    <tr>
                        <th>Persona 1</th>
                    </tr>

                    <tr>

                        <th>Nombres y Apellidos</th>
                        <th>Cedula</th>
                        <th>Edad</th>
                    </tr>



                    <tr>

                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.nombreyapellido}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.cedula}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.edad}}" /></td>
                    </tr>
                    <tr>

                        <th>Lugar De Nacimiento</th>
                        <th>Fecha De Nacimiento</th>
                        <th>Ocupación</th>
                    </tr>



                    <tr>

                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.lugarnacimiento}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{fechaN[0]}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.ocupacion}}" /></td>
                    </tr>
                    <tr>
                        <th>telefono</th>
                        <th>Escolaridad</th>
                        <th>EPS</th>

                    </tr>
                    <tr>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.telefono}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.escolaridad}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder=" {{infoPa.eps}}" /></td>
                    </tr>
                    <tr>
                        <th>Dirección</th>
                        <th>Estrato</th>



                    </tr>
                    <tr>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.direccion}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.estrato}}" /></td>

                    </tr>
                    <!-- persona 2  -->
                    <tr>
                        <th>Persona 2</th>
                    </tr>
                    <tr>

                        <th>Nombres y Apellidos</th>
                        <th>Cedula</th>
                        <th>Edad</th>
                    </tr>



                    <tr>

                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.nombreyapellido2}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.cedula2}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.edad2}}" /></td>
                    </tr>
                    <tr>

                        <th>Lugar De Nacimiento</th>
                        <th>Fecha De Nacimiento</th>
                        <th>Ocupación</th>
                    </tr>



                    <tr>

                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.lugarnacimiento2}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{fechaN[1]}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.ocupacion2}}" /></td>
                    </tr>
                    <tr>
                        <th>telefono</th>
                        <th>Escolaridad</th>
                        <th>EPS</th>

                    </tr>
                    <tr>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.telefono2}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.escolaridad2}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder=" {{infoPa.eps2}}" /></td>
                    </tr>
                    <tr>
                        <th>Dirección</th>
                        <th>Estrato</th>

                    </tr>
                    <tr>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.direccion2}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.estrato2}}" /></td>

                    </tr>


                </table>

                <!-- ---- -->

                <h5>Ultima sesion: SI <input type="radio" name="ultima" value="si" formControlName="ultima" (change)="ultimaSi($event)"> NO <input type="radio" name="ultima" value="no" formControlName="ultima" (change)="ultimaNo($event)"></h5>

                <!-- fecha next -->

                <h4 *ngIf="fechaProx">Fecha Proxima Sección </h4>
                <div class="form-group" *ngIf="fechaProx">
                    <input class="form-control" placeholder="Fecha" style="width: 50%; height: 50px;" formControlName="fechaS">

                </div>

                <div class="row">
                    <div class="col-md-6">
                        <h4>Descripción De La Situación Actual</h4>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Descripcion" style="width: 200%; height: 150px;" formControlName="descripcion"></textarea>
                        </div>

                        <h4>Situaciones Que Han Mejorado </h4>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Situaciones Que Han Mejorado" style="width: 200%; height: 150px;" formControlName="situaciones"></textarea>

                        </div>

                        <h4>Objetivos Terapeuticos</h4>

                        <h6>Progreso</h6>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Progreso" style="width: 200%; height: 150px;" formControlName="progreso"></textarea>
                        </div>

                        <h4>Acuerdos Terapeuticos</h4>
                        <h6>Acuerdos</h6>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Acuerdos" style="width: 200%; height: 150px;" formControlName="acuerdos"></textarea>
                        </div>



                        <h4>Observaciones</h4>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Observaciones" style="width: 200%; height: 150px;" formControlName="observaciones"></textarea>
                        </div>



                        <div class="form-group">
                            <input type="submit" name="btnSubmit" class="btnContact" value="Enviar" />
                        </div>



                    </div>

                </div>
            </form>
        </div>



    </div>

    <!-- para ver los seguimientos con un ngfor a infoSeguimientos -->
    <div class="segui" *ngIf="segui">

        <button class="btnContactVolver" (click)="volver()">Volver</button>

        <div class="card text-center" *ngFor="let info of infoSeguimientos; index as i">
            <div class="card-header">
                Seguimiento {{i + 1}}
            </div>
            <div class="card-body">
                <h5 class="card-title" *ngIf="!pareja">{{info.paciente.nombreyapellido}}</h5>
                <h5 class="card-title" *ngIf="pareja">{{info.paciente.nombreyapellido}} & {{info.paciente.nombreyapellido2}}</h5>
                <p class="card-text">Hecho Por: {{info.usuario.profesion}} {{info.usuario.nombre}} {{info.usuario.apellido}}</p>
                <a (click)="visualizarSeguim(info.uid)" class="btnContactSubmit">Ver Documento</a>
            </div>
            <div class="card-footer text-muted">
                {{info.fecha | date: 'YYYY-MM-dd'}}
            </div>
        </div>

    </div>

    <!--  <div>
        <button class="btn col col-lg-4 btn-danger btn-block ml-4" (click)="downloadPDF()">download pdf</button>
    </div>
 -->
</div>