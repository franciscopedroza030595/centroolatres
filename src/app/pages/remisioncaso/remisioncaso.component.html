<div class="content">

    <app-sidebar></app-sidebar>

    <div class="historia" *ngIf="!remi && !segui">
        <div class="container contact-form">
            <div class="contact-image">
                <img src="../../../../assets/images/LOGO.jpg" alt="centroolatres" />
            </div>
            <form [formGroup]="remiForm" (ngSubmit)="remision()">


                <h3>Remisión Del Caso</h3>



                <h5>Fecha: {{fecha}}</h5>
                <h5>Número De La Remision: {{remisionN}}</h5>
                <h5 class="seccionesA" (click)="verRemisiones()">Remisiones Anteriores: {{remisionesA}} </h5>
                <h5 class="seccionesA" (click)="verSecciones()">Sesiones De Seguimiento: {{seccionesA}} </h5>

                <!-- -------------- -->
                <table style="width: 100%;" *ngIf="!pareja">

                    <tr>

                        <th>Nombre y Apellido</th>
                        <th>Cedula</th>
                        <th>Edad</th>
                    </tr>



                    <tr>

                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.nombreyapellido}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.cedula}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.edad}}" /></td>
                    </tr>
                    <tr>

                        <th>Lugar De Nacimiento</th>
                        <th>Fecha De Nacimiento</th>
                        <th>Ocupación</th>
                    </tr>



                    <tr>

                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.lugarnacimiento}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{fechaN[0]}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.ocupacion}}" /></td>
                    </tr>
                    <tr>
                        <th>telefono</th>
                        <th>Escolaridad</th>
                        <th>EPS</th>

                    </tr>
                    <tr>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.telefono}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.escolaridad}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder=" {{infoPa.eps}}" /></td>
                    </tr>
                    <tr>
                        <th>Dirección</th>
                        <th>Estrato</th>
                        <th>Nombre Acudiente</th>


                    </tr>
                    <tr>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.direccion}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.estrato}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.nombreacudiente}}" /></td>


                    </tr>

                </table>

                <!-- pareja -->

                <table style="width: 100%;" *ngIf="pareja">

                    <tr>
                        <th>Persona 1</th>
                    </tr>

                    <tr>

                        <th>Nombres y Apellidos</th>
                        <th>Cedula</th>
                        <th>Edad</th>
                    </tr>



                    <tr>

                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.nombreyapellido}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.cedula}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.edad}}" /></td>
                    </tr>
                    <tr>

                        <th>Lugar De Nacimiento</th>
                        <th>Fecha De Nacimiento</th>
                        <th>Ocupación</th>
                    </tr>



                    <tr>

                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.lugarnacimiento}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{fechaN[0]}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.ocupacion}}" /></td>
                    </tr>
                    <tr>
                        <th>telefono</th>
                        <th>Escolaridad</th>
                        <th>EPS</th>

                    </tr>
                    <tr>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.telefono}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.escolaridad}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder=" {{infoPa.eps}}" /></td>
                    </tr>
                    <tr>
                        <th>Dirección</th>
                        <th>Estrato</th>



                    </tr>
                    <tr>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.direccion}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.estrato}}" /></td>

                    </tr>
                    <!-- persona 2  -->
                    <tr>
                        <th>Persona 2</th>
                    </tr>
                    <tr>

                        <th>Nombres y Apellidos</th>
                        <th>Cedula</th>
                        <th>Edad</th>
                    </tr>



                    <tr>

                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.nombreyapellido2}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.cedula2}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.edad2}}" /></td>
                    </tr>
                    <tr>

                        <th>Lugar De Nacimiento</th>
                        <th>Fecha De Nacimiento</th>
                        <th>Ocupación</th>
                    </tr>



                    <tr>

                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.lugarnacimiento2}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{fechaN[1]}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.ocupacion2}}" /></td>
                    </tr>
                    <tr>
                        <th>telefono</th>
                        <th>Escolaridad</th>
                        <th>EPS</th>

                    </tr>
                    <tr>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.telefono2}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.escolaridad2}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder=" {{infoPa.eps2}}" /></td>
                    </tr>
                    <tr>
                        <th>Dirección</th>
                        <th>Estrato</th>

                    </tr>
                    <tr>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.direccion2}}" /></td>
                        <td><input type="text" name="" class="form-control" readonly placeholder="{{infoPa.estrato2}}" /></td>

                    </tr>


                </table>


                <!-- ------------------------------------------ -->
                <h5>Ultima sesion: SI <input type="radio" name="ultima" value="si" formControlName="ultima"> NO <input type="radio" name="ultima" value="no" formControlName="ultima"></h5>
                <!-- <h5>Remision:</h5> -->
                <!-- <h5>Interconsulta:</h5> -->
                <div class="row">
                    <div class="col-md-6">
                        <h4>Descripción Del Encuentro Psicoterapeutico</h4>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Descripción" style="width: 200%; height: 150px;" formControlName="descripcion"></textarea>
                        </div>

                        <h4>Evaluación Del Estado Mental </h4>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Evaluación " style="width: 200%; height: 150px;" formControlName="evaluacion"></textarea>

                        </div>

                        <h4>Impresión</h4>

                        <h6>Diagnostica</h6>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Impresión Diagnostica" style="width: 200%; height: 150px;" formControlName="diagnostica"></textarea>
                        </div>
                        <h6>COD</h6>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="COD" style="width: 200%; height: 150px;" formControlName="cod"></textarea>
                        </div>

                        <h4>Seguimiento Del Caso</h4>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Seguimiento Del Caso" style="width: 200%; height: 150px;" formControlName="seguimiento"></textarea>
                        </div>

                        <h4>Medico O Entidad Receptora</h4>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Medico O Entidad Receptora" style="width: 200%; height: 150px;" formControlName="medicoentidad"></textarea>
                        </div>

                        <h4>Observaciones</h4>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Observaciones" style="width: 200%; height: 150px;" formControlName="observaciones"></textarea>
                        </div>



                        <div class="form-group">
                            <input type="submit" name="btnSubmit" class="btnContact" value="Enviar" />
                        </div>



                    </div>

                </div>
            </form>
        </div>



    </div>


    <!-- para ver los seguimientos con un ngfor a infoSeguimientos -->
    <div class="segui" *ngIf="segui && !remi">

        <button class="btnContactVolver" (click)="volver()">Volver</button>

        <div class="card text-center" *ngFor="let info of infoSeguimientos; index as i">
            <div class="card-header">
                Seguimiento {{i + 1}}
            </div>
            <div class="card-body">
                <!-- <h5 class="card-title">{{info.paciente.nombreyapellido}}</h5> -->
                <p class="card-text">Hecho Por: {{info.usuario.role}} {{info.usuario.nombre}} {{info.usuario.apellido}}</p>
                <a (click)="visualizarSeguim(info.uid, 'segui')" class="btnContactSubmit">Ver Documento</a>
            </div>
            <div class="card-footer text-muted">
                {{info.fecha | date: 'YYYY-MM-dd'}}
            </div>
        </div>

    </div>


    <!-- para ver las remisiones con un ngfor a infoRemision -->
    <div class="segui" *ngIf="remi && !segui">

        <button class="btnContactVolver" (click)="volver()">Volver</button>

        <div class="card text-center" *ngFor="let info of infoRemision; index as i">
            <div class="card-header">
                Remision {{i + 1}}
            </div>
            <div class="card-body">
                <!--   <h5 class="card-title">{{info.paciente.nombreyapellido}}</h5> -->
                <p class="card-text">Hecho Por: {{info.usuario.profesion}} {{info.usuario.nombre}} {{info.usuario.apellido}}</p>
                <a (click)="visualizarSeguim(info.uid, 'remi')" class="btnContactSubmit">Ver Documento</a>
            </div>
            <div class="card-footer text-muted">
                {{info.fecha | date: 'YYYY-MM-dd'}}
            </div>
        </div>

    </div>

</div>