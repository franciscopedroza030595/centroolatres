<div class="content">

    <app-sidebar></app-sidebar>

    <div class="historia" *ngIf="!remi && !segui">
        <div class="container contact-form">
            <div class="contact-image">
                <img src="../../../../assets/images/LOGO.jpg" alt="centroolatres" />
            </div>
            <form [formGroup]="remiForm" (ngSubmit)="remision()">


                <h3>Remisión Del Caso</h3>

                <h5 *ngIf="!pareja">Nombre: {{infoPa.nombreyapellido}}</h5>
                <h5 *ngIf="pareja">Nombres: {{infoPa.nombreyapellido}} & {{infoPa.nombreyapellido2}}</h5>
                <h5>Fecha: {{fecha}}</h5>
                <h5>Número De La Remision: {{remisionN}}</h5>
                <h5 class="seccionesA" (click)="verRemisiones()">Remisiones Anteriores: {{remisionesA}} </h5>
                <h5 class="seccionesA" (click)="verSecciones()">Sesiones De Seguimiento: {{seccionesA}} </h5>
                <h5>Ultima sesion: SI <input type="radio" name="ultima" value="si" formControlName="ultima"> NO <input type="radio" name="ultima" value="no" formControlName="ultima"></h5>
                <!-- <h5>Remision:</h5> -->
                <h5>Interconsulta:</h5>
                <div class="row">
                    <div class="col-md-6">
                        <h4>Descripción Del Encuentro Psicoterapeutico</h4>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Motivo" style="width: 200%; height: 150px;" formControlName="descripcion"></textarea>
                        </div>

                        <h4>Evaluación Del Estado Mental </h4>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Evolucion e historia del problema" style="width: 200%; height: 150px;" formControlName="evaluacion"></textarea>

                        </div>

                        <h4>Impresión</h4>

                        <h6>Diagnostica</h6>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Impresión Diagnostica" style="width: 200%; height: 150px;" formControlName="diagnostica"></textarea>
                        </div>
                        <h6>COD</h6>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="COD" style="width: 200%; height: 150px;" formControlName="cod"></textarea>
                        </div>

                        <h4>Seguimiento Del Caso</h4>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Seguimiento Del Caso" style="width: 200%; height: 150px;" formControlName="seguimiento"></textarea>
                        </div>

                        <h4>Medico O Entidad Receptora</h4>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Medico O Entidad Receptora" style="width: 200%; height: 150px;" formControlName="medicoentidad"></textarea>
                        </div>

                        <h4>Observaciones</h4>
                        <div class="form-group">
                            <textarea class="form-control" placeholder="Observaciones" style="width: 200%; height: 150px;" formControlName="observaciones"></textarea>
                        </div>



                        <div class="form-group">
                            <input type="submit" name="btnSubmit" class="btnContact" value="Enviar" />
                        </div>



                    </div>

                </div>
            </form>
        </div>



    </div>


    <!-- para ver los seguimientos con un ngfor a infoSeguimientos -->
    <div class="segui" *ngIf="segui && !remi">

        <button class="btnContactVolver" (click)="volver()">Volver</button>

        <div class="card text-center" *ngFor="let info of infoSeguimientos; index as i">
            <div class="card-header">
                Seguimiento {{i + 1}}
            </div>
            <div class="card-body">
                <!-- <h5 class="card-title">{{info.paciente.nombreyapellido}}</h5> -->
                <p class="card-text">Hecho Por: {{info.usuario.role}} {{info.usuario.nombre}} {{info.usuario.apellido}}</p>
                <a (click)="visualizarSeguim(info.uid, 'segui')" class="btnContactSubmit">Ver Documento</a>
            </div>
            <div class="card-footer text-muted">
                {{info.fecha | date: 'YYYY-MM-dd'}}
            </div>
        </div>

    </div>


    <!-- para ver las remisiones con un ngfor a infoRemision -->
    <div class="segui" *ngIf="remi && !segui">

        <button class="btnContactVolver" (click)="volver()">Volver</button>

        <div class="card text-center" *ngFor="let info of infoRemision; index as i">
            <div class="card-header">
                Remision {{i + 1}}
            </div>
            <div class="card-body">
                <!--   <h5 class="card-title">{{info.paciente.nombreyapellido}}</h5> -->
                <p class="card-text">Hecho Por: {{info.usuario.role}} {{info.usuario.nombre}} {{info.usuario.apellido}}</p>
                <a (click)="visualizarSeguim(info.uid, 'remi')" class="btnContactSubmit">Ver Documento</a>
            </div>
            <div class="card-footer text-muted">
                {{info.fecha | date: 'YYYY-MM-dd'}}
            </div>
        </div>

    </div>

</div>